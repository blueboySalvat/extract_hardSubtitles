# 视频字幕提取器 (Subtitle Extractor)

一个简单但功能强大的视频字幕提取工具，可以从视频中批量提取字幕文本。

## 功能特点

- 批量处理视频文件
- 智能字幕区域裁剪
- 自定义过滤词功能
- 实时进度显示
- 详细的处理日志
- 可配置的字幕识别参数

## 系统要求

- Python 3.7+
- Windows/Linux/MacOS

## 依赖库

```bash
pip install -r requirements.txt
```

主要依赖：
- paddleocr
- opencv-python
- moviepy
- tkinter (Python 标准库)
- numpy
- tqdm

## 使用方法

1. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

2. **运行程序**
   ```bash
   python mainGUI.py
   ```

3. **使用步骤**
   - 选择包含视频文件的输入文件夹
   - 设置需要过滤的关键词（可选）
   - 调整字幕区域的裁剪范围
   - 点击"开始处理"按钮
   - 等待处理完成，结果将保存在 与视频同目录下的output.txt 文件中

## 配置说明

### 字幕区域设置
- 上边界 (0-1): 设置字幕区域的上边界位置
- 下边界 (0-1): 设置字幕区域的下边界位置
- 默认值：上边界 0.8，下边界 0.95

### 过滤词设置
- 使用逗号分隔多个过滤词
- 包含过滤词的字幕将被自动过滤掉
- 建议过滤一些广告文字或水印

## 输出文件

程序会在输入文件夹中生成 `output.txt` 文件，包含：
- 视频文件名
- 提取到的字幕文本
- 处理统计信息

## 注意事项

1. 支持的视频格式：.mp4, .avi, .mkv, .mov, .flv
2. 处理大型视频文件时可能需要较长时间
3. 确保系统有足够的磁盘空间用于临时文件
4. 建议先用少量视频测试配置参数

## 性能优化

- 使用多线程处理提高效率
- 智能帧差异检测，避免重复处理
- 自动清理临时文件
- 优化的 OCR 参数配置

## TODO
- [x] 添加停止按钮
- [x] 增加是否启用GPU的选项
- [ ] 优化GUI界面
- [ ] 添加对多种语言的支持
- [ ] 优化裁剪区域的选择方式

## 技术支持

- 作者：忧郁男孩的救赎
- 网站：blueboySalvat.top

## 版权信息

© 2024 忧郁男孩的救赎. All Rights Reserved.